import{f as P,g as R,r,h as z,i as E,u as I,j as L,c as o,k as a,F as i,a as t,t as c,l as N,d,m as T,n as B,w as Q,q as U,o as n,s as x,v as G}from"./entry.bc1587d5.js";const K={class:"main _test _custom"},W={key:0},X=t("thead",null,[t("tr",null,[t("th",null,"問題"),t("th",null,"答え"),t("th",null,"結果")])],-1),Y=["onClick"],Z=["onClick"],tt={class:"result"},et={class:"voc-list"},nt=["onClick"],st=t("hr",null,null,-1),ot={class:"actions"},at={key:1},lt={class:"answers"},it=t("h3",{class:"answer-head"}," 正しい答えを選んでください ",-1),ut=["onClick"],rt=t("hr",null,null,-1),ct={class:"actions"},dt=["disabled"],mt={class:"google-ad"},pt=t("ins",{class:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-8209950884395919","data-ad-slot":"8597565030","data-ad-format":"auto","data-full-width-responsive":"true"},null,-1),vt=6,ht="https://kikitori.boggy.tw",D="https://kikitori.boggy.tw/images/share.jpg",yt={__name:"[name]",setup(_t){const h=P(),J=R(),v=r(null),_=r(1),$=r(1),g=r(null),w=r([]),b=r(null),q=r([]),m=r(null),y=r([]),k=z(()=>Math.floor(y.value.filter(l=>l.question===l.answer).length/y.value.length*100));function C(l=!0){l&&alert("Not Found"),J.push("/")}function F(){if(h.params.name){const l="saved_tests",s=localStorage.getItem(l);if(!s){C();return}const u=(s?JSON.parse(s):[]).find(p=>p.title===h.params.name);if(!u){C();return}g.value=u.title,w.value=u.questions,w.value.length<4&&(alert("少なくとも4つ異なる単語が必要です。"),C(!1))}else C()}function S(l){$.value=0,_.value=l,y.value=[],m.value=null,v.value="playing",j()}function H(l){m.value=l}function j(){if(m.value&&y.value.push({question:b.value,answer:m.value}),$.value>=vt+(_.value-1)*2)v.value="end";else{$.value++;const l=JSON.parse(JSON.stringify(w.value)).sort(()=>.5-Math.random()).slice(0,4);b.value=l[0],q.value=l.sort(()=>.5-Math.random()),m.value=null,f(b.value,_.value)}}function O(){f(b.value,_.value)}function f(l,s){const e=new SpeechSynthesisUtterance(l),u=s===1?.7:s===2?Math.random()*.25+.8:s===3?Math.random()*.5+1:.1,p=Math.random()*1.5;e.lang="ja-JP",e.rate=u,e.pitch=p,e.volume=1,speechSynthesis.speak(e)}const V=E("pTitle");V.value=h.params.name;const A=h.params.name+" - 聞き取りゲーム",M=h.params.name+"に関する聞き取りゲームをやりましょう";return I({title:A,meta:[{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"},{name:"description",content:M},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:g},{name:"twitter:description",desc:M},{name:"twitter:image",content:D},{name:"og:type",content:"website"},{name:"og:title",content:g},{name:"og:description",content:M},{name:"og:image",content:D},{name:"og:url",content:ht},{name:"og:site_name",content:"iDrip"}]}),L(()=>{F()}),(l,s)=>(n(),o("div",K,[a(v)!=="playing"?(n(),o("div",W,[a(v)==="end"?(n(),o(i,{key:0},[t("h2",null,c(a(g))+" レベル"+c(a(_))+"の 練習結果 ",1),t("table",null,[X,t("tbody",null,[(n(!0),o(i,null,N(a(y),(e,u)=>(n(),o("tr",{key:`question_history_${u}`},[t("td",null,[t("a",{href:"#",onClick:x(p=>f(e.question,1),["prevent"])},c(e.question),9,Y)]),t("td",null,[t("a",{href:"#",onClick:x(p=>f(e.answer,1),["prevent"])},c(e.answer),9,Z)]),t("td",null,c(e.question===e.answer?"⭕️":"❌"),1)]))),128))])]),t("div",tt,[d(" 正解率 "+c(a(k))+" % ",1),a(k)>98?(n(),o(i,{key:0},[d(" 素晴らしい！👍 ")],64)):a(k)>80?(n(),o(i,{key:1},[d(" 上手になったね！ ")],64)):a(k)>70?(n(),o(i,{key:2},[d(" よくできたね！ ")],64)):a(k)>60?(n(),o(i,{key:3},[d(" だんだんできたね！ ")],64)):(n(),o(i,{key:4},[d(" もっと頑張ってね。 ")],64))])],64)):(n(),o(i,{key:1},[t("h2",null," 下記はこのテーマ「"+c(a(g))+"」に入れた単語 ",1),t("div",et,[(n(!0),o(i,null,N(a(w),(e,u)=>(n(),o("a",{key:`custom_test_question_${u}`,href:"#",onClick:x(p=>f(e,1),["prevent"])},c(e),9,nt))),128))])],64)),st,t("div",ot,[t("h2",null,[a(v)===null?(n(),o(i,{key:0},[d(" 始めましょう！ ")],64)):(n(),o(i,{key:1},[d(" もう一度しましょう！ ")],64))]),t("button",{type:"button",onClick:s[0]||(s[0]=e=>S(1))}," レベル一 "),t("button",{type:"button",onClick:s[1]||(s[1]=e=>S(2))}," レベル二 "),t("button",{type:"button",onClick:s[2]||(s[2]=e=>S(3))}," レベル三 ")])])):a(v)==="playing"?(n(),o("div",at,[t("div",lt,[it,(n(!0),o(i,null,N(a(q),(e,u)=>(n(),o("button",{key:`ans_${u}`,type:"button",class:G(["tertiary ans",{outline:a(m)!==e}]),onClick:p=>H(e)},c(e),11,ut))),128))]),rt,t("div",ct,[t("button",{type:"button",class:"secondary outline",onClick:s[3]||(s[3]=e=>O())}," もう一度聞く "),t("button",{type:"button",disabled:!a(m),onClick:s[4]||(s[4]=e=>j())}," 次へ ",8,dt)]),t("div",mt,[(n(),T(B("script"),{async:"",src:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8209950884395919",crossorigin:"anonymous"})),pt,(n(),T(B("script"),null,{default:Q(()=>[d(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1}))])])):U("",!0)]))}};export{yt as default};
