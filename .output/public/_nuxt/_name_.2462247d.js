import{f as V,g as j,r,h as A,i as D,c as s,j as l,F as u,a as t,t as c,k as S,d,l as H,o,m as M,n as P}from"./entry.4898d7bd.js";const R={class:"_custom"},T={key:0},z=t("thead",null,[t("tr",null,[t("th",null,"ÂïèÈ°å"),t("th",null,"Á≠î„Åà"),t("th",null,"ÁµêÊûú")])],-1),E=["onClick"],I=["onClick"],L={class:"result"},Q={class:"voc-list"},U=["onClick"],G=t("hr",null,null,-1),K={class:"actions"},W={class:"action-head"},X={key:1},Y={class:"answers"},Z=t("div",{class:"answer-head"}," Ê≠£„Åó„ÅÑÁ≠î„Åà„ÇíÈÅ∏„Çì„Åß„Åè„Å†„Åï„ÅÑ ",-1),tt=["onClick"],et=t("hr",null,null,-1),nt={class:"actions"},st=["disabled"],ot=6,ut={__name:"[name]",setup(lt){const N=V(),J=j(),h=r(null),p=r(1),C=r(1),w=r(null),m=r([]),b=r(null),x=r([]),v=r(null),k=r([]),y=A(()=>Math.floor(k.value.filter(a=>a.question===a.answer).length/k.value.length*100));function g(a=!0){a&&alert("Not Found"),J.push("/")}function B(){if(N.params.name){const a="saved_tests",n=localStorage.getItem(a);if(!n){g();return}const i=(n?JSON.parse(n):[]).find(_=>_.title===N.params.name);if(!i){g();return}w.value=i.title,m.value=i.questions,m.value.length<4&&(alert("Â∞ë„Å™„Åè„Å®„ÇÇ4„Å§Áï∞„Å™„ÇãÂçòË™û„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ"),g(!1))}else g()}function $(a){C.value=0,p.value=a,k.value=[],v.value=null,h.value="playing",q()}function F(a){v.value=a}function q(){if(v.value&&k.value.push({question:b.value,answer:v.value}),C.value>=ot+(p.value-1)*2)h.value="end";else{C.value++;const a=JSON.parse(JSON.stringify(m.value)).sort(()=>.5-Math.random()).slice(0,4);b.value=a[0],x.value=a.sort(()=>.5-Math.random()),v.value=null,f(b.value,p.value)}}function O(){f(b.value,p.value)}function f(a,n){const e=new SpeechSynthesisUtterance(a),i=n===1?.7:n===2?Math.random()*.25+.8:n===3?Math.random()*.5+1:.1,_=Math.random()*1.5;e.lang="ja-JP",e.rate=i,e.pitch=_,e.volume=1,speechSynthesis.speak(e)}return D(()=>{B()}),(a,n)=>(o(),s("div",R,[l(h)!=="playing"?(o(),s("div",T,[l(h)==="end"?(o(),s(u,{key:0},[t("h2",null,c(l(w))+" „É¨„Éô„É´"+c(l(p))+"„ÅÆ Á∑¥ÁøíÁµêÊûú ",1),t("table",null,[z,t("tbody",null,[(o(!0),s(u,null,S(l(k),(e,i)=>(o(),s("tr",{key:`question_history_${i}`},[t("td",null,[t("a",{href:"#",onClick:M(_=>f(e.question,1),["prevent"])},c(e.question),9,E)]),t("td",null,[t("a",{href:"#",onClick:M(_=>f(e.answer,1),["prevent"])},c(e.answer),9,I)]),t("td",null,c(e.question===e.answer?"‚≠ïÔ∏è":"‚ùå"),1)]))),128))])]),t("div",L,[d(" Ê≠£Ëß£Áéá "+c(l(y))+" % ",1),l(y)>98?(o(),s(u,{key:0},[d(" Á¥†Êô¥„Çâ„Åó„ÅÑÔºÅüëç ")],64)):l(y)>80?(o(),s(u,{key:1},[d(" ‰∏äÊâã„Å´„Å™„Å£„Åü„Å≠ÔºÅ ")],64)):l(y)>70?(o(),s(u,{key:2},[d(" „Çà„Åè„Åß„Åç„Åü„Å≠ÔºÅ ")],64)):l(y)>60?(o(),s(u,{key:3},[d(" „Åü„Åè„Åï„ÇìËÅû„Åë„Åæ„Åô„Å≠ÔºÅ ")],64)):(o(),s(u,{key:4},[d(" „ÇÇ„Å£„Å®È†ëÂºµ„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ ")],64))])],64)):(o(),s(u,{key:1},[t("h2",null," ‰∏ãË®ò„ÅØ„Åì„ÅÆ„ÉÜ„Éº„Éû„Äå"+c(l(w))+"„Äç„Å´ÂÖ•„Çå„ÅüÂçòË™û ",1),t("div",Q,[(o(!0),s(u,null,S(l(m),(e,i)=>(o(),s("a",{key:`custom_test_question_${i}`,href:"#",onClick:M(_=>f(e,1),["prevent"])},c(e),9,U))),128))])],64)),G,t("div",K,[t("div",W,[l(h)===null?(o(),s(u,{key:0},[d(" Âßã„ÇÅ„Åæ„Åó„Çá„ÅÜÔºÅ ")],64)):(o(),s(u,{key:1},[d(" „ÇÇ„ÅÜ‰∏ÄÂ∫¶„Åó„Åæ„Åó„Çá„ÅÜÔºÅ ")],64))]),t("button",{type:"button",onClick:n[0]||(n[0]=e=>$(1))}," „É¨„Éô„É´‰∏Ä "),t("button",{type:"button",onClick:n[1]||(n[1]=e=>$(2))}," „É¨„Éô„É´‰∫å "),t("button",{type:"button",onClick:n[2]||(n[2]=e=>$(3))}," „É¨„Éô„É´‰∏â ")])])):l(h)==="playing"?(o(),s("div",X,[t("div",Y,[Z,(o(!0),s(u,null,S(l(x),(e,i)=>(o(),s("button",{key:`ans_${i}`,type:"button",class:P(["ans",{active:l(v)===e}]),onClick:_=>F(e)},c(e),11,tt))),128))]),et,t("div",nt,[t("button",{type:"button",class:"outline",onClick:n[3]||(n[3]=e=>O())}," „ÇÇ„ÅÜ‰∏ÄÂ∫¶ËÅû„Åè "),t("button",{type:"button",disabled:!l(v),onClick:n[4]||(n[4]=e=>q())}," Ê¨°„Å∏ ",8,st)])])):H("",!0)]))}};export{ut as default};
