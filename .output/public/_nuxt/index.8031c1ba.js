import{_ as L,o as a,c as r,a as o,B,v as P,C as X,s as _,F as k,l as y,t as S,q as f,r as E,j as N,i as V,u as H,b as h,w as d,k as I,m as v,n as T,A as C,d as u}from"./entry.0413a1a8.js";import{_ as A,a as $}from"./NoJpVoiceFound.3af289a5.js";import{_ as Y}from"./nuxt-link.de8f111b.js";const R={props:{dots:{type:Boolean,default:!0},nav:{type:Boolean,default:!0},items:{type:Number,default:1},margin:{type:Number,default:0},autoHeight:{type:Boolean,default:!1},autoWidth:{type:Boolean,default:!1},responsive:{type:Object,default:null},autoplay:{type:Number,default:0}},data(){return{currentIndex:0,dragging:!1,pointerStartX:0,pointerX:0,pointerStartY:0,pointerY:0,trackHeight:"auto",autoWidthTrackPos:0,autoWidthLeftBtnVisible:!1,autoWidthRightBtnVisible:!0,windowWidth:0,rwdData:{},observer:null,slotChanged:1,autoplayInterval:null}},computed:{_dots(){return this.getCurrentProp.dots},_nav(){return this.getCurrentProp.nav},_items(){return this.getCurrentProp.items},_margin(){return this.getCurrentProp.margin},_autoHeight(){return this.getCurrentProp.autoHeight},currentPage(){return Math.ceil(this.currentIndex/this._items)},tags(){return this.slotChanged?this.$slots.default()[0].children||[]:[]},trackWidth(){return this.autoWidth?"auto":`calc(${`calc(${100/this._items}% - ${(this._items-1)*this._margin/this._items}px)`} * ${this.itemsTotal} + ${this._margin*(this.itemsTotal-1)}px)`},itemsTotal(){return this.tags.length},pagesTotal(){return Math.ceil(this.itemsTotal/this._items)},currentTags(){return this.tags.slice(this.currentIndex,this.currentIndex+this._items)},trackPos(){if(this.autoWidth)return this.updateAutoWidthTrackPos(),this.autoWidthTrackPos+"px";const t=`calc( calc(100% - ${this._margin}px * ${this.itemsTotal-1}) / ${this.itemsTotal} * ${-this.currentIndex} - ${this.currentIndex*this._margin}px )`;return this.dragging?`calc( ${t} + ${this.pointerX-this.pointerStartX}px )`:t},navLeftBtnVisible(){return this.autoWidth?this.autoWidthLeftBtnVisible:this.currentPage>0},navRightBtnVisible(){return this.autoWidth?this.autoWidthRightBtnVisible:this.currentPage<this.pagesTotal-1},responsiveGutterNum(){return Object.keys(this.responsive).map(t=>parseInt(t))},getCurrentProp(){return{dots:typeof this.rwdData.dots<"u"?this.rwdData.dots:this.dots,nav:typeof this.rwdData.nav<"u"?this.rwdData.nav:this.nav,items:typeof this.rwdData.items<"u"?this.rwdData.items:this.items,margin:typeof this.rwdData.margin<"u"?this.rwdData.margin:this.margin,autoHeight:typeof this.rwdData.autoHeight<"u"?this.rwdData.autoHeight:this.autoHeight}}},watch:{tags(){this.currentIndex=0},windowWidth(t){if(this.responsive){const e=this.responsiveGutterNum.filter(g=>g<=t).length-1,s=this.responsiveGutterNum[e];this.rwdData=this.responsive[s]||{},this.slideToPage(this.currentPage)}},currentIndex(){if(this._autoHeight){let t=!1;this.currentTags.forEach(e=>{e.elm.querySelectorAll("img").forEach(s=>{s.complete||(t=!0,s.addEventListener("load",()=>{this.refreshHeight()},{once:!0}))})}),t||this.refreshHeight()}this.$emit("changed",{item:{index:this.currentIndex}})}},mounted(){this.autoplay&&(this.autoplayInterval=setInterval(()=>{this.autoplayNextPage()},this.autoplay)),(this.responsive||this.autoWidth||this.autoHeight)&&(window.addEventListener("resize",this.onWindowResize),this.onWindowResize()),this.observer=new MutationObserver(()=>{this.slotChanged+=1}),this.observer.observe(this.$refs.track,{childList:!0})},beforeDestroy(){clearInterval(this.autoplayInterval),(this.responsive||this.autoWidth||this.autoHeight)&&window.removeEventListener("resize",this.onWindowResize),this.observer.disconnect()},methods:{startDrag(t){const e=t.touches?t.touches[0].screenX:t.screenX,s=t.touches?t.touches[0].screenY:t.screenY;this.pointerStartX=this.pointerX=e,this.pointerStartY=this.pointerY=s,document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.endDrag),document.addEventListener("touchmove",this.drag,{passive:!1}),document.addEventListener("touchforcechange",this.drag,{passive:!1}),document.addEventListener("touchend",this.endDrag)},drag(t){const e=t.touches?t.touches[0].screenX:t.screenX,s=t.touches?t.touches[0].screenY:t.screenY;Math.abs(this.pointerStartY-s)<=Math.abs(this.pointerStartX-e)||this.dragging?(t.stopPropagation(),t.preventDefault(),this.dragging=!0,this.pointerX=e,this.pointerY=s,this.autoWidth&&this.updateAutoWidthNavVisible()):(document.removeEventListener("mousemove",this.drag),document.removeEventListener("mouseup",this.endDrag),document.removeEventListener("touchmove",this.drag),document.removeEventListener("touchforcechange",this.drag),document.removeEventListener("touchend",this.endDrag))},endDrag(){document.removeEventListener("mousemove",this.drag),document.removeEventListener("mouseup",this.endDrag),document.removeEventListener("touchmove",this.drag),document.removeEventListener("touchforcechange",this.drag),document.removeEventListener("touchend",this.endDrag),this.pointerStartX-this.pointerX>50?this.nextPage():this.pointerStartX-this.pointerX<-50&&this.prevPage(),this.dragging=!1},slideToPage(t){const e=t*this._items;let s=e+this._items<=this.itemsTotal?e:this.itemsTotal-this._items;s=s<0?0:s,this.currentIndex=s},updateAutoWidthTrackPos(){const t=this.stageWidth()-this.autoWidthTrackWidth();this.autoWidthTrackPos=this.autoWidthTrackPos+(this.pointerX-this.pointerStartX),this.pointerStartX=this.pointerX,this.dragging||(this.autoWidthTrackPos>0&&(this.autoWidthTrackPos=0),this.autoWidthTrackPos<t&&(this.autoWidthTrackPos=t))},updateAutoWidthNavVisible(){this.autoWidthTrackPos<0?this.autoWidthLeftBtnVisible=!0:this.autoWidthLeftBtnVisible=!1,this.autoWidthTrackPos>this.stageWidth()-this.autoWidthTrackWidth()?this.autoWidthRightBtnVisible=!0:this.autoWidthRightBtnVisible=!1},slideToPos(t){const e=this.stageWidth()-this.autoWidthTrackWidth();this.autoWidthTrackPos+=t,this.autoWidthTrackPos>0?this.autoWidthTrackPos=0:this.autoWidthTrackPos<e&&(this.autoWidthTrackPos=e),this.updateAutoWidthNavVisible()},prevPage(){if(this.autoWidth){this.slideToPos(300);return}this.currentPage>0&&this.slideToPage(this.currentPage-1)},nextPage(){if(this.autoWidth){this.slideToPos(-300);return}this.currentPage<this.pagesTotal-1&&this.slideToPage(this.currentPage+1)},autoplayNextPage(){this.autoWidth||(this.currentPage<this.pagesTotal-1?this.slideToPage(this.currentPage+1):this.slideToPage(0))},refreshHeight(){const t=Math.max(...this.currentTags.map(e=>e.elm.offsetHeight));this.trackHeight=t+"px"},stageWidth(){return this.$refs.stage&&this.windowWidth?this.$refs.stage.offsetWidth:0},autoWidthTrackWidth(){return this.$refs.track&&this.windowWidth?this.$refs.track.scrollWidth:0},onWindowResize(){this.windowWidth=window.innerWidth,setTimeout(()=>{this._autoHeight&&this.refreshHeight()},1)}}},j={class:"carousel"},M={key:0,class:"carousel__pagination"},q=["onClick"],z={key:1,class:"carousel__nav"};function O(t,e,s,g,c,i){return a(),r("div",j,[o("div",{ref:"stage",class:"carousel__stage",onMousedown:e[0]||(e[0]=_(n=>i.startDrag(n),["prevent"])),onTouchstart:e[1]||(e[1]=n=>i.startDrag(n))},[o("div",{ref:"track",style:B(`
          width: ${i.trackWidth};
          height: ${c.trackHeight};
          grid-gap: ${i._margin}px;
          grid-template-columns: repeat(${i.itemsTotal}, 1fr);
          transform: translateX(${i.trackPos});
        `),class:P([{dragging:c.dragging},"carousel__track"])},[X(t.$slots,"default")],6)],544),i._dots&&!s.autoWidth?(a(),r("div",M,[(a(!0),r(k,null,y(i.pagesTotal,(n,m)=>(a(),r("button",{key:`carousel__paginationBtn--${m}`,class:P([{active:i.currentPage===m},"carousel__paginationBtn"]),type:"button",onClick:_(w=>i.slideToPage(m),["prevent"])},S(n),11,q))),128))])):f("",!0),i._nav?(a(),r("div",z,[i.navLeftBtnVisible?(a(),r("a",{key:0,href:"#",class:"carousel__navLeftBtn",onClick:e[2]||(e[2]=_(n=>i.prevPage(),["prevent"]))}," Prev ")):f("",!0),i.navRightBtnVisible?(a(),r("a",{key:1,href:"#",class:"carousel__navRightBtn",onClick:e[3]||(e[3]=_(n=>i.nextPage(),["prevent"]))}," Next ")):f("",!0)])):f("",!0)])}const F=L(R,[["render",O]]);const J={class:"_index"},G={class:"banners"},K=["src"],Q={class:"main"},U=o("h2",null," 練習テーマ ",-1),Z={class:"main-menu"},tt={class:"google-ad"},et=o("ins",{class:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-8209950884395919","data-ad-slot":"4250291761","data-ad-format":"auto","data-full-width-responsive":"true"},null,-1),st=C("<hr><h2> 「聞き取りゲーム」について </h2><p> 聞き取りゲームは「Web Synthesis API」という技術を活用したWebアプリケーションです。下記の「時間」や「数字」などが練習のテーマです。まずは一つリンクをクリックして、練習しましょう。他のテーマを練習したい場合、「+ テーマ」をクリックして、自分のテーマを作ってください。 </p><hr><h2>FAQ</h2><h3>If you can&#39;t hear the sound</h3><ol><li>iOS users please go to &quot;Settings -&gt; Accessibility -&gt; Spoken content -&gt; Voices -&gt; Japanese&quot; to download the voice data.</li><li>Android users please go to &quot;Settings -&gt; Accessbility -&gt; Text-to-speech output -&gt; Setting Icon next to &quot;Preferred engine&quot; -&gt; Install voice data&quot; to download Japanese voice data and restart your browser.</li></ol><h3>若是無法聽見聲音</h3><ol><li>iOS的使用者請至「設定 -&gt; 輔助使用 -&gt; 語音內容 -&gt; 聲音 -&gt; 日文」下載日文語音檔。</li><li>Android的使用者請至「設定 -&gt; 協助工具 -&gt; 文字轉語音輸出 -&gt; 點選偏好的引擎右方的設定按鈕 -&gt; 安裝語音資料」下載日文語音檔，並重新啟動瀏覽器。</li></ol>",9),it="saved_tests",W="聞き取りゲーム",b="「聞き取りゲーム」について",at="https://kikitori.boggy.tw",x="https://kikitori.boggy.tw/images/share.jpg",ht={__name:"index",setup(t){const e=E([]);function s(){const c=localStorage.getItem(it);e.value=c?JSON.parse(c):[]}N(()=>{s(),window.addEventListener("saved_test_updated",s)});const g=V("pTitle");return g.value="",H({title:W,meta:[{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"},{name:"description",content:b},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:W},{name:"twitter:description",desc:b},{name:"twitter:image",content:x},{name:"og:type",content:"website"},{name:"og:title",content:W},{name:"og:description",content:b},{name:"og:image",content:x},{name:"og:url",content:at},{name:"og:site_name",content:"iDrip"}]}),(c,i)=>{const n=F,m=A,w=$,l=Y;return a(),r("div",J,[o("div",G,[h(n,{items:1,dots:!0,nav:!1,autoplay:4e3,responsive:{991:{items:2}}},{default:d(()=>[(a(),r(k,null,y(4,p=>o("img",{key:`index_banner_${p}`,alt:"Kikitori",class:"banner",src:`/images/index_banner_${p}.jpg`},null,8,K)),64))]),_:1})]),o("div",Q,[h(m),h(w),U,o("nav",Z,[h(l,{to:"/hiduke",class:"btn"},{default:d(()=>[u(" 日付 ")]),_:1}),h(l,{to:"/youbi",class:"btn"},{default:d(()=>[u(" 曜日 ")]),_:1}),h(l,{to:"/jikoku",class:"btn"},{default:d(()=>[u(" 時刻 ")]),_:1}),h(l,{to:"/suuji",class:"btn"},{default:d(()=>[u(" 数字 ")]),_:1}),(a(!0),r(k,null,y(I(e),(p,D)=>(a(),v(l,{key:`nav_test_${D}`,class:"btn",to:"/"+p.title},{default:d(()=>[u(S(p.title),1)]),_:2},1032,["to"]))),128)),h(l,{to:"/add",class:"btn add-btn"},{default:d(()=>[u(" + テーマ ")]),_:1})]),o("div",tt,[(a(),v(T("script"),{async:"",src:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8209950884395919",crossorigin:"anonymous"})),et,(a(),v(T("script"),null,{default:d(()=>[u(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1}))]),st])])}}};export{ht as default};
