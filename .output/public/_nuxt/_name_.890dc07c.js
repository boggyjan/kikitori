import{f as A,g as D,h as H,r,i as J,c as o,j as a,F as u,a as t,t as c,k as S,d,l as P,o as l,m as x,n as R}from"./entry.282628cf.js";const z={class:"_custom"},E={key:0},I=t("thead",null,[t("tr",null,[t("th",null,"ÂïèÈ°å"),t("th",null,"Á≠î„Åà"),t("th",null,"ÁµêÊûú")])],-1),L=["onClick"],O=["onClick"],Q={class:"result"},U={class:"voc-list"},G=["onClick"],K=t("hr",null,null,-1),W={class:"actions"},X={class:"action-head"},Y={key:1},Z={class:"answers"},tt=t("div",{class:"answer-head"}," Ê≠£„Åó„ÅÑÁ≠î„Åà„ÇíÈÅ∏„Çì„Åß„Åè„Å†„Åï„ÅÑ ",-1),et=["onClick"],nt=t("hr",null,null,-1),st={class:"actions"},ot=["disabled"],lt=6,it={__name:"[name]",setup(at){const N=A(),F=D();function C(){alert("Not Found"),F.push("/")}function T(){if(N.params.name){const n="saved_tests",s=localStorage.getItem(n);if(!s){C();return}const i=(s?JSON.parse(s):[]).find(_=>_.title===N.params.name);if(!i){C();return}$.value=i.title,b.value=i.questions}else C()}H(()=>{T()});const h=r(null),p=r(1),w=r(1),$=r(null),b=r([]),k=r(null),q=r([]),v=r(null),y=r([]),m=J(()=>Math.floor(y.value.filter(n=>n.question===n.answer).length/y.value.length*100));function M(n){w.value=0,p.value=n,y.value=[],v.value=null,h.value="playing",B()}function V(n){v.value=n}function B(){if(v.value&&y.value.push({question:k.value,answer:v.value}),w.value>=lt+(p.value-1)*2)h.value="end";else{w.value++,k.value=g();const n=[];n.push(k.value),n.push(g()),n.push(g()),n.push(g()),n.sort(()=>Math.random()-.5),q.value=n,v.value=null,f(k.value,p.value)}}function j(){f(k.value,p.value)}function g(){return b.value[Math.floor(Math.random()*b.value.length)]}function f(n,s){const e=new SpeechSynthesisUtterance(n),i=s===1?.7:s===2?Math.random()*.25+.8:s===3?Math.random()*.5+1:.1,_=Math.random()*1.5;e.lang="ja-JP",e.rate=i,e.pitch=_,e.volume=1,speechSynthesis.speak(e)}return(n,s)=>(l(),o("div",z,[a(h)!=="playing"?(l(),o("div",E,[a(h)==="end"?(l(),o(u,{key:0},[t("h2",null,c(a($))+" „É¨„Éô„É´"+c(a(p))+"„ÅÆ Á∑¥ÁøíÁµêÊûú ",1),t("table",null,[I,t("tbody",null,[(l(!0),o(u,null,S(a(y),(e,i)=>(l(),o("tr",{key:`question_history_${i}`},[t("td",null,[t("a",{href:"#",onClick:x(_=>f(e.question,1),["prevent"])},c(e.question),9,L)]),t("td",null,[t("a",{href:"#",onClick:x(_=>f(e.answer,1),["prevent"])},c(e.answer),9,O)]),t("td",null,c(e.question===e.answer?"‚≠ïÔ∏è":"‚ùå"),1)]))),128))])]),t("div",Q,[d(" Ê≠£Ëß£Áéá "+c(a(m))+" % ",1),a(m)>98?(l(),o(u,{key:0},[d(" Á¥†Êô¥„Çâ„Åó„ÅÑÔºÅüëç ")],64)):a(m)>80?(l(),o(u,{key:1},[d(" ‰∏äÊâã„Å´„Å™„Å£„Åü„Å≠ÔºÅ ")],64)):a(m)>70?(l(),o(u,{key:2},[d(" „Çà„Åè„Åß„Åç„Åü„Å≠ÔºÅ ")],64)):a(m)>60?(l(),o(u,{key:3},[d(" „Åü„Åè„Åï„ÇìËÅû„Åë„Åæ„Åô„Å≠ÔºÅ ")],64)):(l(),o(u,{key:4},[d(" „ÇÇ„Å£„Å®È†ëÂºµ„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ ")],64))])],64)):(l(),o(u,{key:1},[t("h2",null," ‰∏ãË®ò„ÅØ„Åì„ÅÆ„ÉÜ„Éº„Éû„Äå"+c(a($))+"„Äç„Å´ÂÖ•„Çå„ÅüÂçòË™û ",1),t("div",U,[(l(!0),o(u,null,S(a(b),(e,i)=>(l(),o("a",{key:`custom_test_question_${i}`,href:"#",onClick:x(_=>f(e,1),["prevent"])},c(e),9,G))),128))])],64)),K,t("div",W,[t("div",X,[a(h)===null?(l(),o(u,{key:0},[d(" Âßã„ÇÅ„Åæ„Åó„Çá„ÅÜÔºÅ ")],64)):(l(),o(u,{key:1},[d(" „ÇÇ„ÅÜ‰∏ÄÂ∫¶„Åó„Åæ„Åó„Çá„ÅÜÔºÅ ")],64))]),t("button",{type:"button",onClick:s[0]||(s[0]=e=>M(1))}," „É¨„Éô„É´‰∏Ä "),t("button",{type:"button",onClick:s[1]||(s[1]=e=>M(2))}," „É¨„Éô„É´‰∫å "),t("button",{type:"button",onClick:s[2]||(s[2]=e=>M(3))}," „É¨„Éô„É´‰∏â ")])])):a(h)==="playing"?(l(),o("div",Y,[t("div",Z,[tt,(l(!0),o(u,null,S(a(q),(e,i)=>(l(),o("button",{key:`ans_${i}`,type:"button",class:R(["ans",{active:a(v)===e}]),onClick:_=>V(e)},c(e),11,et))),128))]),nt,t("div",st,[t("button",{type:"button",class:"outline",onClick:s[3]||(s[3]=e=>j())}," „ÇÇ„ÅÜ‰∏ÄÂ∫¶ËÅû„Åè "),t("button",{type:"button",disabled:!a(v),onClick:s[4]||(s[4]=e=>B())}," Ê¨°„Å∏ ",8,ot)])])):P("",!0)]))}};export{it as default};
