import{_ as I,a as L}from"./NoJpVoiceFound.3c9eabc1.js";import{f as Q,g as U,r,h as G,i as T,u as K,j as W,c as o,b as q,k as a,F as i,a as t,t as d,l as x,d as p,m as B,n as D,w as X,q as Y,o as n,s as j,v as Z}from"./entry.4e43c495.js";const tt={class:"main _test _custom"},et={key:0},nt=t("thead",null,[t("tr",null,[t("th",null,"問題"),t("th",null,"答え"),t("th",null,"結果")])],-1),st=["onClick"],ot=["onClick"],at={class:"result"},lt={class:"voc-list"},it=["onClick"],ut=t("hr",null,null,-1),ct={class:"actions"},rt={key:1},dt={class:"answers"},pt=t("h3",{class:"answer-head"}," 正しい答えを選んでください ",-1),mt=["onClick"],ht=t("hr",null,null,-1),_t={class:"actions"},vt=["disabled"],gt={class:"google-ad"},yt=t("ins",{class:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-8209950884395919","data-ad-slot":"8597565030","data-ad-format":"auto","data-full-width-responsive":"true"},null,-1),kt=6,ft="https://kikitori.boggy.tw",P="https://kikitori.boggy.tw/images/share.jpg",St={__name:"[name]",setup(wt){const g=Q(),A=U(),_=r(null),y=r(1),J=r(1),k=r(null),C=r([]),S=r(null),V=r([]),m=r(null),f=r([]),w=G(()=>Math.floor(f.value.filter(l=>l.question===l.answer).length/f.value.length*100));function $(l=!0){l&&alert("Not Found"),A.push("/")}function H(){if(g.params.name){const l="saved_tests",s=localStorage.getItem(l);if(!s){$();return}const u=(s?JSON.parse(s):[]).find(e=>e.title===g.params.name);if(!u){$();return}k.value=u.title,C.value=u.questions,C.value.length<4&&(alert("少なくとも4つ異なる単語が必要です。"),$(!1))}else $()}function M(l){J.value=0,y.value=l,f.value=[],m.value=null,_.value="playing",F()}function O(l){m.value=l}function F(){if(m.value&&f.value.push({question:S.value,answer:m.value}),J.value>=kt+(y.value-1)*2)_.value="end";else{J.value++;const l=JSON.parse(JSON.stringify(C.value)).sort(()=>.5-Math.random()).slice(0,4);S.value=l[0],V.value=l.sort(()=>.5-Math.random()),m.value=null,b(S.value,y.value)}}function R(){b(S.value,y.value)}function b(l,s){const v=speechSynthesis.getVoices().filter(c=>c.lang==="ja_JP"||c.lang==="ja-JP"||c.lang==="ja");if(!v.length){alert("Japanese voice data not found.");const c=T("noJpVoiceFound");c.value=!0,window.scrollTo(0,0)}const u=new SpeechSynthesisUtterance(l),e=s===1?.7:s===2?Math.random()*.25+.8:s===3?Math.random()*.5+1:.1,h=Math.random()*1+.5;u.lang="ja-JP",u.rate=e,u.pitch=h,u.voice=v[Math.floor(Math.random()*v.length)],speechSynthesis.cancel(),speechSynthesis.speak(u)}const z=T("pTitle");z.value=g.params.name;const E=g.params.name+" - 聞き取りゲーム",N=g.params.name+"に関する聞き取りゲームをやりましょう";return K({title:E,meta:[{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"},{name:"description",content:N},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:k},{name:"twitter:description",desc:N},{name:"twitter:image",content:P},{name:"og:type",content:"website"},{name:"og:title",content:k},{name:"og:description",content:N},{name:"og:image",content:P},{name:"og:url",content:ft},{name:"og:site_name",content:"iDrip"}]}),W(()=>{H()}),(l,s)=>{const v=I,u=L;return n(),o("div",tt,[q(v),q(u),a(_)!=="playing"?(n(),o("div",et,[a(_)==="end"?(n(),o(i,{key:0},[t("h2",null,d(a(k))+" レベル"+d(a(y))+"の 練習結果 ",1),t("table",null,[nt,t("tbody",null,[(n(!0),o(i,null,x(a(f),(e,h)=>(n(),o("tr",{key:`question_history_${h}`},[t("td",null,[t("a",{href:"#",onClick:j(c=>b(e.question,1),["prevent"])},d(e.question),9,st)]),t("td",null,[t("a",{href:"#",onClick:j(c=>b(e.answer,1),["prevent"])},d(e.answer),9,ot)]),t("td",null,d(e.question===e.answer?"⭕️":"❌"),1)]))),128))])]),t("div",at,[p(" 正解率 "+d(a(w))+" % ",1),a(w)>98?(n(),o(i,{key:0},[p(" 素晴らしい！👍 ")],64)):a(w)>80?(n(),o(i,{key:1},[p(" 上手になったね！ ")],64)):a(w)>70?(n(),o(i,{key:2},[p(" よくできたね！ ")],64)):a(w)>60?(n(),o(i,{key:3},[p(" だんだんできたね！ ")],64)):(n(),o(i,{key:4},[p(" もっと頑張ってね。 ")],64))])],64)):(n(),o(i,{key:1},[t("h2",null," 下記はこのテーマ「"+d(a(k))+"」に入れた単語 ",1),t("div",lt,[(n(!0),o(i,null,x(a(C),(e,h)=>(n(),o("a",{key:`custom_test_question_${h}`,href:"#",onClick:j(c=>b(e,1),["prevent"])},d(e),9,it))),128))])],64)),ut,t("div",ct,[t("h2",null,[a(_)===null?(n(),o(i,{key:0},[p(" 始めましょう！ ")],64)):(n(),o(i,{key:1},[p(" もう一度しましょう！ ")],64))]),t("button",{type:"button",onClick:s[0]||(s[0]=e=>M(1))}," レベル一 "),t("button",{type:"button",onClick:s[1]||(s[1]=e=>M(2))}," レベル二 "),t("button",{type:"button",onClick:s[2]||(s[2]=e=>M(3))}," レベル三 ")])])):a(_)==="playing"?(n(),o("div",rt,[t("div",dt,[pt,(n(!0),o(i,null,x(a(V),(e,h)=>(n(),o("button",{key:`ans_${h}`,type:"button",class:Z(["tertiary ans",{outline:a(m)!==e}]),onClick:c=>O(e)},d(e),11,mt))),128))]),ht,t("div",_t,[t("button",{type:"button",class:"secondary outline",onClick:s[3]||(s[3]=e=>R())}," もう一度聞く "),t("button",{type:"button",disabled:!a(m),onClick:s[4]||(s[4]=e=>F())}," 次へ ",8,vt)]),t("div",gt,[(n(),B(D("script"),{async:"",src:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8209950884395919",crossorigin:"anonymous"})),yt,(n(),B(D("script"),null,{default:X(()=>[p(" (adsbygoogle = window.adsbygoogle || []).push({}); ")]),_:1}))])])):Y("",!0)])}}};export{St as default};
